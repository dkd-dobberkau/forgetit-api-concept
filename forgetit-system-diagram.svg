<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" viewBox="0 0 800 600">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#0004" />
    </filter>
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#8fc9e1" />
      <stop offset="100%" stop-color="#5b9bd5" />
    </linearGradient>
    <linearGradient id="MBGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#d9ead3" />
      <stop offset="100%" stop-color="#93c47d" />
    </linearGradient>
    <linearGradient id="PVGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#f4cccc" />
      <stop offset="100%" stop-color="#e06666" />
    </linearGradient>
    <linearGradient id="assessorGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#fff2cc" />
      <stop offset="100%" stop-color="#ffd966" />
    </linearGradient>
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#d0e0e3" />
      <stop offset="100%" stop-color="#76a5af" />
    </linearGradient>
    <linearGradient id="forgetGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#e6b8af" />
      <stop offset="100%" stop-color="#dd7e6b" />
    </linearGradient>
    <linearGradient id="coreGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#d9d2e9" />
      <stop offset="100%" stop-color="#b4a7d6" />
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#555" />
    </marker>
  </defs>

  <!-- Title -->
  <rect x="50" y="20" width="700" height="50" rx="8" ry="8" fill="url(#headerGradient)" filter="url(#shadow)" />
  <text x="400" y="52" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="white">ForgetIT System Architecture</text>

  <!-- Main container -->
  <rect x="50" y="90" width="700" height="490" rx="8" ry="8" fill="#f8f9fa" stroke="#ddd" stroke-width="1" filter="url(#shadow)" />

  <!-- Core Engine -->
  <rect x="140" y="260" width="520" height="220" rx="8" ry="8" fill="#f0f0f0" stroke="#ccc" stroke-width="1" />
  <text x="400" y="280" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">ForgetIT Core Engine</text>

  <!-- Forget Middleware component -->
  <rect x="160" y="300" width="480" height="160" rx="8" ry="8" fill="url(#coreGradient)" stroke="#b4a7d6" stroke-width="1" filter="url(#shadow)" />
  <text x="400" y="320" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">Preserve-or-Forget Middleware</text>

  <!-- Assessor Component -->
  <rect x="190" y="340" width="160" height="100" rx="8" ry="8" fill="url(#assessorGradient)" stroke="#ffd966" stroke-width="1" filter="url(#shadow)" />
  <text x="270" y="360" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Assessor</text>
  <rect x="200" y="370" width="140" height="30" rx="4" ry="4" fill="#fffcf0" stroke="#ffd966" stroke-width="1" />
  <text x="270" y="390" text-anchor="middle" font-family="Arial" font-size="10">Memory Buoyancy (MB)</text>
  <rect x="200" y="405" width="140" height="30" rx="4" ry="4" fill="#fffcf0" stroke="#ffd966" stroke-width="1" />
  <text x="270" y="425" text-anchor="middle" font-family="Arial" font-size="10">Preservation Value (PV)</text>

  <!-- Forgettor Component -->
  <rect x="370" y="340" width="240" height="100" rx="8" ry="8" fill="url(#forgetGradient)" stroke="#dd7e6b" stroke-width="1" filter="url(#shadow)" />
  <text x="490" y="360" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Forgettor</text>
  
  <!-- Forgettor Subcomponents -->
  <rect x="380" y="370" width="100" height="65" rx="4" ry="4" fill="#faf0ef" stroke="#dd7e6b" stroke-width="1" />
  <text x="430" y="385" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold">Analyzer</text>
  <text x="430" y="405" text-anchor="middle" font-family="Arial" font-size="8">Resource</text>
  <text x="430" y="415" text-anchor="middle" font-family="Arial" font-size="8">Classification</text>
  <text x="430" y="425" text-anchor="middle" font-family="Arial" font-size="8">Action Selection</text>

  <rect x="490" y="370" width="110" height="65" rx="4" ry="4" fill="#faf0ef" stroke="#dd7e6b" stroke-width="1" />
  <text x="545" y="385" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold">Actions</text>
  <text x="545" y="400" text-anchor="middle" font-family="Arial" font-size="8">Condensation</text>
  <text x="545" y="410" text-anchor="middle" font-family="Arial" font-size="8">Aggregation</text>
  <text x="545" y="420" text-anchor="middle" font-family="Arial" font-size="8">Archive</text>
  <text x="545" y="430" text-anchor="middle" font-family="Arial" font-size="8">Deletion</text>

  <!-- User Interface -->
  <rect x="140" y="120" width="520" height="80" rx="8" ry="8" fill="url(#headerGradient)" stroke="#5b9bd5" stroke-width="1" filter="url(#shadow)" />
  <text x="400" y="145" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Information Management System</text>
  <text x="400" y="165" text-anchor="middle" font-family="Arial" font-size="12" fill="white">User Interface & API</text>
  <text x="400" y="185" text-anchor="middle" font-family="Arial" font-size="10" fill="white">(FastAPI Implementation)</text>

  <!-- Storage System -->
  <rect x="140" y="500" width="520" height="60" rx="8" ry="8" fill="url(#storageGradient)" stroke="#76a5af" stroke-width="1" filter="url(#shadow)" />
  <text x="400" y="525" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">Tiered Storage System</text>
  <text x="160" y="545" text-anchor="start" font-family="Arial" font-size="10">Active Storage</text>
  <text x="320" y="545" text-anchor="middle" font-family="Arial" font-size="10">Condensed Storage</text>
  <text x="480" y="545" text-anchor="middle" font-family="Arial" font-size="10">Archive Storage</text>
  <text x="640" y="545" text-anchor="end" font-family="Arial" font-size="10">Deletion Queue</text>

  <!-- Side Components -->
  <!-- Resources -->
  <rect x="70" y="210" width="150" height="30" rx="15" ry="15" fill="url(#MBGradient)" stroke="#93c47d" stroke-width="1" filter="url(#shadow)" />
  <text x="145" y="230" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Resources</text>

  <!-- Strategy Repository -->
  <rect x="580" y="210" width="150" height="30" rx="15" ry="15" fill="url(#MBGradient)" stroke="#93c47d" stroke-width="1" filter="url(#shadow)" />
  <text x="655" y="230" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Strategy Repository</text>

  <!-- Historic Values -->
  <rect x="580" y="430" width="150" height="30" rx="15" ry="15" fill="url(#PVGradient)" stroke="#e06666" stroke-width="1" filter="url(#shadow)" />
  <text x="655" y="450" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Historic Value Repo</text>

  <!-- Context -->
  <rect x="70" y="430" width="150" height="30" rx="15" ry="15" fill="url(#PVGradient)" stroke="#e06666" stroke-width="1" filter="url(#shadow)" />
  <text x="145" y="450" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Context Provider</text>

  <!-- Connections with arrows -->
  <!-- UI to Core -->
  <path d="M400,200 L400,250" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  
  <!-- Core to Storage -->
  <path d="M400,480 L400,500" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  
  <!-- Side Components to Core -->
  <path d="M145,240 L145,370 L185,370" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  <path d="M655,240 L655,370 L615,370" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  <path d="M145,430 L145,400 L185,400" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  <path d="M655,430 L655,400 L615,400" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />
  
  <!-- Assessor to Forgettor -->
  <path d="M350,390 L370,390" stroke="#555" stroke-width="2" marker-end="url(#arrow)" fill="none" />

  <!-- Legend -->
  <rect x="610" y="120" width="130" height="75" rx="5" ry="5" fill="white" stroke="#ddd" stroke-width="1" />
  <text x="675" y="135" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold">Legend</text>
  
  <rect x="620" y="145" width="12" height="12" fill="url(#assessorGradient)" stroke="#ffd966" stroke-width="1" />
  <text x="640" y="155" text-anchor="start" font-family="Arial" font-size="9">Assessment</text>
  
  <rect x="620" y="165" width="12" height="12" fill="url(#forgetGradient)" stroke="#dd7e6b" stroke-width="1" />
  <text x="640" y="175" text-anchor="start" font-family="Arial" font-size="9">Forgetting</text>
  
  <rect x="620" y="185" width="12" height="12" fill="url(#storageGradient)" stroke="#76a5af" stroke-width="1" />
  <text x="640" y="195" text-anchor="start" font-family="Arial" font-size="9">Storage</text>

</svg>
